<!DOCTYPE html>
<html>
	<head>
		<title>SWGOH Tools - Panic Farming Calculator</title>
	  	<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
		<meta charset="utf-8" />
		<style>
			p { max-width: 800px;}
			.swgoh_ad {
			position: absolute;
			left:0;
			top:90px;
			width:0;
			height:0px;
			}
			#ad {
			width:100%;
			height:60px;
			}

			h3 {
				font-size: 1.2em;
				margin-bottom: 4px;
			}
			@-webkit-keyframes blinker {
				from,
				49.9% {
					opacity: 0;
				}
				50%,
				to {
					opacity: 1;
				}
			}
			@-webkit-keyframes fader {
				50% {
					opacity: 0;
				}
			}
			b.nowrap {
				white-space: nowrap;
			}
			#panic {
				text-align: center;
			}
			.dontpanic {
				color: green;
				font-size: 50px;
			}
			.panic {
				color: red;
				font-size: 50px;
  				animation: blinker 1s linear infinite;
			}
			.maybepanic {
				color: black;
				font-size: 50px;
  				animation: blinker 1s linear infinite;
			}
			#dontpanic, #dont, #do {
				display: none;
			}

			@media(min-width: 520px) { #top { padding-bottom:0px} #ad { height:90px;} .swgoh_ad { left:inherit; top:0; right:0; width: 328px; height: 90px; } }
			@media(min-width: 720px) { #top { padding-bottom:0px} #ad { height:90px;} .swgoh_ad { left:inherit; top:0; right:0; width: 528px; height: 90px; } }
			@media(min-width: 920px) { #top { padding-bottom:0px} #ad { height:90px;} .swgoh_ad { left:inherit; top:0; right:0; width: 728px; height: 90px; } }
			@media(min-width: 1200px) { #top { padding-bottom:0px} #ad { height:90px;} .swgoh_ad { left:inherit; top:0; right:0; width: 1000px; height: 90px; } }
  	</style>
  	<script src="https://use.fontawesome.com/c278e2b3ff.js"></script>
  	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script>
	$(document).ready(function() {

		var storage = null;
		if(window.localStorage) storage = window.localStorage;
		else if(window.globalStorage) storage = window.globalStorage[location.hostname];

		function cacheForm(name) {
			var val = fetch(name);
			if(val) $('#'+name).val(val);
			$('#'+name).on("change",function(e) {
				store(name,$('#'+name).val());
			});
		}

		function store(key,val) {
			storage.setItem(key,val);
		}
		function fetch(key) {
			return storage.getItem(key);
		}

		function update() {
			var c =  parseInt(update1('chew'));
			var h =  parseInt(update1('han'));
			var total = c+h;

			$('#total_total').html(total);

			var days = parseInt($("#days").val())+6;
			var perDay = total/days;

			$('#ends').html(days+1);
			$('#perday').html(Math.ceil(perDay*10)/10);

			//free = 144 energy = 2.9 shards
			//1 = 120 = 2.4 shards (100 crystals)
			//2 = 120 = 2.4 shards (100 crystals)
			//3 = 120 = 2.4 shards (100 crystals)
			
			// 16 shards per day avaialable from shipments at 320/4 shards (80/s)

			//4 = 120 = 2.4 shards (200 crystals)
			//5 = 120 = 2.4 shards (200 crystals)
			//6 = 120 = 2.4 shards (400 crystals)
			var refreshes = 0;
			var shipments = 0;
			var crystals = 0;
			var special_total = 0;
			$('#dont').hide();
			$('#do').hide();
			if(perDay<=2.9) { //free crystals
				$('#dont').show();
			} else if(perDay<=5.3) { //1 refresh
				refreshes = 1;
				crystals = 100;
				$('#dont').show();
			} else if(perDay<=7.7) { //2 refreshes
				refreshes = 2;
				crystals = 200;
				$('#dont').show();
			} else if(perDay<=10.1) { //3 refreshes
				refreshes = 3;
				crystals = 300;
				$('#dont').show();
			} else if(perDay<=14.1) { //3 refreshes + 1 shipment
				refreshes = 3;
				shipments = 1;
				crystals = 620;
				$('#do').show();
			} else if(perDay<=18.1) { //3 refreshes + 2 shipments
				refreshes = 3;
				shipments = 2;
				crystals = 940;
				$('#do').show();
			} else if(perDay<=22.1) { //3 refreshes + 3 shipments
				refreshes = 3;
				shipments = 3;
				crystals = 1260;
				$('#do').show();
			} else if(perDay<=26.1) { //3 refreshes + 4 shipments
				refreshes = 3;
				shipments = 4;
				crystals = 1580;
				$('#do').show();
			} else if(perDay<=28.5) { //4 refreshes + 4 shipments
				refreshes = 4;
				shipments = 4;
				crystals = 1780;
				$('#do').show();
			} else if(perDay<=30.9) { //5 refreshes + 4 shipments
				refreshes = 5;
				shipments = 4;
				crystals = 1980;
				$('#do').show();
			} else if(perDay<=33.3) { //6 refreshes + 4 shipments
				refreshes = 6;
				shipments = 4;
				crystals = 2380;
				$('#do').show();
			} else if(perDay<=35.7) { //7 refreshes + 4 shipments
				refreshes = 7;
				shipments = 4;
				crystals = 2780;
				$('#do').show();
			} else {
				refreshes = "7+";
				shipments = 4;
				crystals = "2780+";
				special_total = 2780*days;
				$('#do').show();
			}

			$("#refreshes").html(refreshes);
			$("#shipments").html(shipments);
			$("#crystals").html(crystals);
			$("#totalcrystals").html(crystals*days);
			if(refreshes=="7+") $("#totalcrystals").html(special_total+"+");
		}

		function update1(who) {
			var stars = parseInt($('#'+who+'_stars').val());
			var shards = parseInt($('#'+who+'_shards').val());
			if(isNaN(stars)) stars = 0;
			if(isNaN(shards)) shards = 0;

			if(stars>=7) {
				$("#"+who+"_sh").hide();
			} else {
				$("#"+who+"_sh").show();
			}

		
			var remain7 = 0;
			if(stars==6) {
				$('#'+who+'_max').html("100");
				remain7 = 100-shards;
			} else if(stars==5) {
				$('#'+who+'_max').html("85");
				remain7 = 185-shards;
			} else if(stars==4) {
				$('#'+who+'_max').html("65");
				remain7 = 250-shards;
			} else if(stars==3) {
				$('#'+who+'_max').html("30");
				remain7 = 280-shards;
			} else if(stars==2) {
				$('#'+who+'_max').html("25");
				remain7 = 305-shards;
			} else if(stars==1) {
				$('#'+who+'_max').html("15");
				remain7 = 320-shards;
			} else {
				$('#'+who+'_max').html("10");
				remain7 = 330-shards;
			}

			$('#'+who+'_total').html(remain7);
			return remain7;
		}

		function panic() {
			update();

			$('#panic').hide();
			$('#dontpanic').show();

			return false;
		}

		cacheForm("chew_stars");
		cacheForm("chew_shards");
		cacheForm("han_stars");
		cacheForm("han_shards");
		cacheForm("days");

		$("#chew_stars").on("change", update);
		$("#chew_shards").on("change", update);
		$("#han_stars").on("change", update);
		$('#han_shards').on("change", update);
		$('#days').on("change", update);

		$('#button').on("click", panic);

		update();
	});
	</script>
	</head>
	<body>
		<div id="top">
      	<a href="http://www.swgoh.life/index.html" id="logoClick"></a>
			<div id="ad">
			<!-- Swgoh.life -->
			<ins class="adsbygoogle swgoh_ad"
			 style="display:block"
			 data-ad-client="ca-pub-0176506581219642"
			 data-ad-slot="9855290481"
			 data-ad-format="horizontal"></ins>
			<script>
			//https://support.google.com/adsense/answer/6307124
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
			</div>
	</div>
	<div id="middleSolo">
		<h1><a href="http://www.swgoh.life/index.html">More Tools</a> &gt; Panic Farming Calculator</h1>

		<p>Enter your stars/shards for each toon you are panicing about and we'll tell you if you really need to panic.</p>

		<div class="half">
			<form action="#" method="post">
				<h3>Veteran Smuggler Chewbacca:</h3>
				Stars: <input type="text" id="chew_stars" name="chew_stars" value="1" size="2" />/ 7<br />
				<span id="chew_sh">Shards: <input type="text" id="chew_shards" name="chew_shards" value="0" size="2" />/ <span id="chew_max">15</span><br /></span>
				<br />

				<h3>Veteran Smuggler Han Solo:</h3>
				Stars: <input type="text" id="han_stars" name="han_stars" value="1" size="2" />/ 7<br />
				<span id="han_sh">Shards: <input type="text" id="han_shards" name="han_shards" value="0" size="2" />/ <span id="han_max">15</span><br /></span>
				<br />

				<h3>How many days until the event starts?</h3>
				<input type="text" id="days" name="days" value="10" size="3" /> (take your best guess) <br /><br />

				<input type="submit" id="button" value="Should I Panic?" class="btn" />
				<br /><br />
			</form>
		</div>
		<div class="half">
			<div id="panic">
				<b class="maybepanic">DON'T PANIC</b>
			</div>
			<div id="dontpanic">
				<h3>Shards Needed:</h3>

				<span id="chew_total"></span> shards needed for Veteran Smuggler Chewbacca.<br />
				<span id="han_total"></span> shards needed for Veteran Smuggler Han Solo.<br />
				<span id="total_total"></span> total shards needed.<br />
				<br />

				<h3>Farming Required:</h3>

				The event ends in <span id="ends"></span> days. You need to farm <span id="perday"></span> shards per day.<br /><br />
				You need to do <b class="nowrap"><span id="refreshes"></span> cantina refreshes</b> every day and purchase
				<b class="nowrap"><span id="shipments"></span> shipments</b> (4 shards for 320 crystals) each day.<br />
				<br />
				This will require <span id="crystals"></span> crystals per day. <b class="nowrap"><span id="totalcrystals"></span> crystals total</b>.<br />
				<br />
				<b class="dontpanic" id="dont">DON'T PANIC</b>
				<b class="panic" id="do">OK, PANIC</b>

			</div>
		</div>
	
		<br /><br /><hr /><ins class="adsbygoogle"
		 style="display:block; text-align:center;"
		 data-ad-format="fluid"
		 data-ad-layout="in-article"
		 data-ad-client="ca-pub-0176506581219642"
		 data-ad-slot="6732943283"></ins>
		<script>
			 (adsbygoogle = window.adsbygoogle || []).push({});
		</script>
		
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-92624-14', 'auto');
			ga('send', 'pageview');
		</script>

	</div>
	<div id="foot">
		<p>SWGOH.LIFE is not affiliated with EA, EA Capital Games, Disney or Lucasfilm LTD.</p>
	</div>
</body>
</html>